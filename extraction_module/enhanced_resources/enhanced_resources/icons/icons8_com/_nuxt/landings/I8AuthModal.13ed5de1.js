import{l as I,a as M,h as P}from"./entry.e76eb76a.js";import{u as b}from"./i18n.3c77d8a7.js";import{I as N}from"./I8Modal.4eccc332.js";import{c as $,b as d,B as i}from"./helper.016738b8.js";import A from"./I8AuthForm.cad928ad.js";import{d as B,r as v,c as w,o as O,X as V,w as F,m as C,n as u,G as r,y as a,K as L,f as E,z as G,x as U,D as q,q as z,Q as S}from"./vue.178cf25e.js";import"./libs.b22191e3.js";/* empty css             */const D=B({name:"I8AuthModalCommon",components:{I8AuthForm:A,I8Modal:N},model:{prop:"modelValue",event:"update:model-value"},props:{modelValue:{type:Boolean,required:!1,default:!1},popupSource:{type:String,default:void 0}},emits:["update:model-value","close"],setup(o,{emit:t}){const y=b(),g=I(),_=v(!1),h=w(()=>g.user),c=v(o.popupSource),n=(e={})=>{c.value=e.popupSource,t("update:model-value",!0)},m=()=>{t("update:model-value",!1),t("close"),d.emit(i.CLOSE),_.value=!1,c.value=o.popupSource},l=v({}),s=v(null),p=e=>{if(h.value&&!h.value.isGuest){e.callback();return}s.value,l.value=e.options.asset||{},s.value=e.callback,n(e.openOptions)},f=()=>{m(),s.value&&(s.value(),s.value=null)};O(()=>{$(y.locale.value),d.on(i.OPEN,n),d.on(i.ENSURE_LOGIN,p)}),V(()=>{d.off(i.OPEN,n),d.off(i.ENSURE_LOGIN,p)});const k=w(()=>o.modelValue);return F(k,e=>{e||(s.value=null,l.value={})}),{asset:l,closeModal:m,isForgotPassword:_,modalPopupSource:c,onSuccess:f,openModal:n}}});function R(o,t,y,g,_,h){const c=C("i8-auth-form"),n=C("i8-modal"),m=P;return u(),r(m,null,{default:a(()=>[(u(),r(L,{to:"body"},[E(n,{"is-open":o.modelValue,class:G([{"i8-auth-modal--reset-pass":o.isForgotPassword},"i8-auth-modal"]),onClose:o.closeModal},{default:a(()=>{var l,s,p,f;return[E(c,{source:o.modalPopupSource,onForgotPassword:t[0]||(t[0]=k=>o.isForgotPassword=!0),onSuccess:o.onSuccess},U({_:2},[q(o.$slots,(k,e)=>({name:e,fn:a(()=>[z(o.$slots,e)])})),(l=o.asset)!=null&&l.icons?{name:"asset-icons",fn:a(()=>[(u(),r(S(o.asset.icons)))]),key:"0"}:void 0,(s=o.asset)!=null&&s.photos?{name:"asset-photos",fn:a(()=>[(u(),r(S(o.asset.photos)))]),key:"1"}:void 0,(p=o.asset)!=null&&p.vectors?{name:"asset-vectors",fn:a(()=>[(u(),r(S(o.asset.vectors)))]),key:"2"}:void 0,(f=o.asset)!=null&&f.tracks?{name:"asset-tracks",fn:a(()=>[(u(),r(S(o.asset.tracks)))]),key:"3"}:void 0]),1032,["source","onSuccess"])]}),_:3},8,["is-open","class","onClose"])]))]),_:3})}const Y=M(D,[["render",R]]);export{Y as default};
