import{o as d,p as n}from"./entry.e76eb76a.js";import"./vue.178cf25e.js";import"./i18n.3c77d8a7.js";import"./libs.b22191e3.js";const r={maxAge:1e3*60*30,storage:{},set(e,s){const t=Date.now();this.storage[e]={$cacheAt:new Date().toLocaleString(),$expireTimestamp:t+this.maxAge,messages:s}},get(e){const s=this.storage[e];if(s){const t=s.messages;return s.$expireTimestamp>Date.now()?{messages:t,expired:!1,cachedAt:s.$cacheAt}:{messages:t,expired:!0}}return{messages:void 0,expired:!1}}},p="94e80c13abc08fc5900f727rzn3";function f(e){return e.replace(/{{/g,"{").replace(/}}/g,"}").replace(/@/g,"{'@'}")}async function i(e="common",s="en-US"){const t=await(await fetch(`https://distributions.crowdin.net/${p}/content/${e}/${s}.json`)).text();return JSON.parse(f(t))}async function l(e){try{const t={...await i("common",e)};{const o=await i("landings",e);Object.assign(t,o)}const a="messages_"+e;return r.set(a,t),t}catch(s){n.error(`loadTranslations for ${e} from CDN error`,s)}}const u=async e=>{var c;const s=((c=d.find(g=>g.code===e))==null?void 0:c.iso)||"en-US",t="messages_"+s;let{messages:a,expired:o,cachedAt:m}=r.get(t);return n.debug("[i18n cache]:",o,m,a,r),(!a||o)&&(n.debug("[i18n cache]:","cache miss"),a=await l(s)),a},$=e=>u(e);export{$ as default};
