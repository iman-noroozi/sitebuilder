import{a as d,l as _,k as h,B as C,h as g}from"./entry.e76eb76a.js";import{u as y}from"./i18n.3c77d8a7.js";import{r as f,o as A,h as M,c as s,s as S,P as v,n as m,G as u,y as E,Q as O,L as N,t as L}from"./vue.178cf25e.js";const i={rootSelector:null,rootMargin:"400px",threshold:"0"};function b({componentFactory:r,loading:a,loadingData:e},o=i){let t;return{suspensible:!1,loader:()=>new Promise(n=>{t=n}),loadingComponent:{setup(){if(!("IntersectionObserver"in window))return()=>{};const n=f(null),l={root:document.querySelector(o.rootSelector)||null,rootMargin:o.rootMargin||i.rootMargin,threshold:o.threshold||i.thresholds};return A(()=>{const c=new IntersectionObserver(p=>{p[0].intersectionRatio<=0||(c.unobserve(n.value.$el),r().then(t))},l);c.observe(n.value.$el)}),()=>M(a,{...e,ref:n})}}}}const P={name:"I8PageCommentsWrapper",props:{pageKey:{type:String,default:()=>{}},lazyRootMargin:{type:[String,null],default:null},lazyRootSelector:{type:[String,null],default:null}},emits:["loaded"],setup(){const{t:r}=y(),a=_(),e=l=>r("COMMON.PAGE_COMMENTS.PLACEHOLDERS.".concat(l)),o=s(()=>({name:e("NAME"),email:e("EMAIL"),comment:e("COMMENT"),btnSend:e("BTN_SEND"),btnCancel:e("BTN_CANCEL"),btnReply:e("BTN_REPLY"),btnLoadMore:e("BTN_LOAD_MORE"),noComments:e("NO_COMMENTS")})),t=s(()=>a.user);return{allowDelete:s(()=>t.value&&t.value.isAdmin||!1),apiUrl:"https://page-comments-backend.icons8.com",placeholders:o,siteKey:"0x4AAAAAAAAvGujGqOF8HTX1",user:t}},data(){return{pageCommentComponent:S(null),loaded:!1}},mounted(){this.pageCommentComponent=v(b({componentFactory:()=>h(()=>import("./I8PageComments.es.d25f4035.js"),["./I8PageComments.es.d25f4035.js","./vue.178cf25e.js","./libs.b22191e3.js","./entry.e76eb76a.js","./i18n.3c77d8a7.js","./entry.c1b2e3f5.css","./I8Checkbox.95e05e0b.js","./I8Checkbox.0fa15d48.css","./I8Tooltip.412a4ab2.js","./I8Tooltip.622bd036.css"],import.meta.url),loading:C,loadingData:{props:{size:32}}},{rootMargin:this.lazyRootMargin,rootSelector:this.lazyRootSelector})),this.loaded=!0,this.$emit("loaded")}};function T(r,a,e,o,t,n){const l=g;return m(),u(l,null,{default:E(()=>[t.loaded?(m(),u(O(t.pageCommentComponent),N({key:0,"allow-delete":o.allowDelete,"api-url":o.apiUrl,"page-key":e.pageKey,"site-key":o.siteKey,user:o.user,placeholders:o.placeholders},r.$attrs),null,16,["allow-delete","api-url","page-key","site-key","user","placeholders"])):L("",!0)]),_:1})}const D=d(P,[["render",T]]);export{D as I};
