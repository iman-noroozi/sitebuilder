import{Y as l,Z as g,_ as m,$ as _,O as y,d as h,c as S,n as w,p as x}from"./vue.178cf25e.js";import{G as d,H as v,J as $,K as k,u as G,l as O}from"./entry.e76eb76a.js";import{e as R}from"./helper.016738b8.js";import"./i18n.3c77d8a7.js";import"./libs.b22191e3.js";function A(r,e){const o={};for(const t of e)t in r&&(o[t]=r[t]);return o}function E(){return $().public["nuxt-scripts"]}const N=["onNuxtReady","client"],T=["preconnect","dns-prefetch"];function C(r,e,o){const{src:t}=r,i=k(t),n=e&&T.includes(e),s=n?`${i.protocol}${i.host}`:t,a=!!i.host;if(!e||n&&!a)return;const u={href:s,rel:e,...A(r,["crossorigin","referrerpolicy","fetchpriority","integrity"])},c={fetchpriority:"low"};return e==="preload"&&(c.as="script"),a&&(c.crossorigin="anonymous",c.referrerpolicy="no-referrer"),y({link:[d(u,c)]},{head:o,tagPriority:"high"})}function I(r,e){var u,c,f;r=typeof r=="string"?{src:r}:r,e=d(e,(u=E())==null?void 0:u.defaultScriptOptions);const o=String(l(r)),t=G(),i=e.head||g();t.$scripts=t.$scripts||m({});const n=!!((c=t.$scripts)!=null&&c[o]);!e.warmupStrategy&&N.includes(String(e.trigger))&&(e.warmupStrategy="preload"),e.trigger==="onNuxtReady"&&(e.trigger=v),n||(f=performance==null?void 0:performance.mark)==null||f.call(performance,"mark_feature_usage",{detail:{feature:e.performanceMarkFeature??`nuxt-scripts:${o}`}});const s=_(r,e);s.warmup=p=>{s._warmupEl||(s._warmupEl=C(r,p,i))},e.warmupStrategy&&s.warmup(e.warmupStrategy);const a=s.remove;return s.remove=()=>{var p;return(p=s._warmupEl)==null||p.dispose(),t.$scripts[o]=void 0,a()},t.$scripts[o]=s,s}const L={id:"g_id_prompt_container"},K=h({__name:"GoogleOneTapSignIn",setup(r){const e=O(),o=S(()=>{var n;return(n=e.user)!=null&&n.loaded?!!e.isGuest:!1});async function t(n){const s=n.credential;e.socialAuth({type:"google",params:{client:"web",credentials:s}}).then(({token:a})=>e.fillUserInfo(a))}const{onLoaded:i}=I({src:"https://accounts.google.com/gsi/client",async:!0,defer:!0,crossorigin:!1},{trigger:o,use(){return{GSI:window.google}}});return i(({GSI:n})=>{n.accounts.id.initialize({client_id:R.AUTH_GOOGLE_CLIENT_ID,callback:t,context:"signin",use_fedcm_for_prompt:!1,prompt_parent_id:"g_id_prompt_container"}),n.accounts.id.prompt()}),(n,s)=>(w(),x("div",L))}});export{K as default};
