import{k as I,a as g,h as L}from"./entry.e76eb76a.js";import{P as N,c as u,m as C,n as c,p as a,t as f,f as T,y as k,G as h,v as d,F as y,D as m,L as P,a0 as x,B as H,z as b,_ as j,a1 as D}from"./vue.178cf25e.js";import"./i18n.3c77d8a7.js";import"./libs.b22191e3.js";function E(t){if(typeof t=="string"){if(t.trim().startsWith("<svg"))return"svg";if(/\.(png|jpg|jpeg|gif|svg|webp)$/i.test(t.trim()))return"cdn"}}const M={name:"I8Notify",components:{appLottie:N(()=>I(()=>import("./appLottie.e73411f3.js"),["./appLottie.e73411f3.js","./libs.b22191e3.js","./vue.178cf25e.js","./entry.e76eb76a.js","./i18n.3c77d8a7.js","./entry.c1b2e3f5.css","./appLottie.1ae238fe.css"],import.meta.url))},props:{notification:{type:Object,default:()=>({})}},emits:["close"],setup(t){const l=u(()=>t.notification.iconType||E(t.notification.icon)),e=u(()=>t.notification.buttons||[]);return{iconType:l,buttons:e}}};const A={key:0,class:"i8-notify__icon-block"},B=["innerHTML"],O=["src"],F={class:"i8-notify__body"},V=["innerHTML"],w=["innerHTML"],z={key:2,class:"i8-notify__buttons"},G=["onClick"],S={class:"i8-notify__close"};function U(t,l,e,s,p,v){const i=C("appLottie"),o=L;return c(),a("div",{class:b(["i8-notify",e.notification.type])},[s.iconType&&e.notification.icon?(c(),a("div",A,[s.iconType==="svg"?(c(),a("div",{key:0,class:"i8-notify__icon",innerHTML:e.notification.icon},null,8,B)):s.iconType==="cdn"?(c(),a("img",{key:1,src:`${e.notification.icon}`,class:"i8-notify__icon"},null,8,O)):f("",!0),T(o,null,{default:k(()=>[s.iconType==="lottie"?(c(),h(i,{key:0,class:"i8-notify__icon",renderer:"svg",loop:!0,autoplay:!0,"animation-data":e.notification.icon},null,8,["animation-data"])):f("",!0)]),_:1})])):f("",!0),d("div",F,[e.notification.title?(c(),a("div",{key:0,class:"i8-notify__title",innerHTML:e.notification.title},null,8,V)):f("",!0),e.notification.text?(c(),a("div",{key:1,class:"i8-notify__text",innerHTML:e.notification.text},null,8,w)):f("",!0),s.buttons.length?(c(),a("div",z,[(c(!0),a(y,null,m(s.buttons,(n,r)=>(c(),a("button",P({key:r,class:["i8-notify__button",n.class&&n.class.join(" ")]},x(n.listeners||{},!0),{onClick:_=>n.closeable&&t.$emit("close",e.notification)}),H(n.title),17,G))),128))])):f("",!0)]),d("div",S,[d("button",{"aria-label":"Close notification",onClick:l[0]||(l[0]=n=>t.$emit("close",e.notification))})])],2)}const R=g(M,[["render",U],["__scopeId","data-v-6b9ebe48"]]),W=(t=>()=>t++)(0),Y=5e3,q="bottom",J={name:"I8NotifyControls",components:{I8Notify:R},setup(){const t=j({}),l=u(()=>Object.keys(t).filter(o=>{var n;return(n=t[o])==null?void 0:n.length})),e=i=>{const{position:o=q,delay:n=Y,...r}=i,_={...r,delay:n,position:o,id:W(),timer:setTimeout(()=>s(_),n)};t[o]||(t[o]=[]),o.includes("top")?t[o].push(_):t[o].unshift(_)},s=i=>{var r;const{position:o,timer:n}=i;n&&(clearTimeout(n),i.timer=null,t[o]=(r=t[o])==null?void 0:r.filter(({timer:_})=>_))};return{pool:t,poolPositions:l,createNotification:e,getPositionClasses:i=>i.split("-").map(o=>`is-${o}`).join(" "),onClose:i=>{var o;(o=i.onCloseHandler)==null||o.call(i),s(i)}}}};function K(t,l,e,s,p,v){const i=C("I8Notify");return c(!0),a(y,null,m(s.poolPositions,o=>(c(),a("div",{key:o,class:b(["i8-notify-controls",s.getPositionClasses(o)])},[T(D,{name:"i8-notify",appear:""},{default:k(()=>[(c(!0),a(y,null,m(s.pool[o],n=>(c(),h(i,{key:n.id,notification:n,onClose:s.onClose},null,8,["notification","onClose"]))),128))]),_:2},1024)],2))),128)}const tt=g(J,[["render",K],["__scopeId","data-v-7ee1ee51"]]);export{tt as default};
